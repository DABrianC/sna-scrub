{"title":"Annex 1: Interactive Network Map","markdown":{"yaml":{"title":"Annex 1: Interactive Network Map","format":{"html":{"toc":true,"css":"prep/styles.css"}},"execute":{"warning":false,"message":false,"error":false,"echo":false},"editor":"visual"},"containsRefs":false,"markdown":"\n\n```{r}\nsource(here::here(\"./prep/prep.R\"))\nsource(here::here(\"./scripts/00 cleaning script.R\"))\n\n```\n\nThe graphic below is interactive. Readers can select organizations by using either the \"Select by id\" dropdown menu or by hovering or clicking on an organization in the graphic. When readers select an organization - using either method - the first and second order connections are also highlighted. This helps identify which organizations are near in the network.\n\nReaders can also highlight individual cohorts by using the \"Select by group\" dropdown menu.\n\nThe graphic also allows for zooming in and out. When zooming in names will appear on individual organizations as space becomes available.\n\n```{r, fig.cap=\"An interactive mapping based on the survey data collected of the Endline Accountability Ecosystem.\"}\n\n#| out-width: 100%\n#| fig-cap: \"Click on a node to see the organization name and centrality statistics\"\n\n\nV(g_non)$group <- V(g_non)$cohort\nV(g_non)$title <- paste0(\"<b>Org:</b> \", V(g_non)$name, \"<br><b>Cohort:</b> \", V(g_non)$cohort\n                     , \"<br><b>Degree:</b> \", igraph::degree(g_non), \"<br><b>Between:</b> \", round(igraph::betweenness(g_non), digits = 2)                    , \"<br><b>Harmonic Centrality:</b> \", round(igraph::harmonic_centrality(g_non), digits = 2), \"<br><b>Eigen Centrality Score:</b> \", round(igraph::eigen_centrality(g_non)$vector, digits = 2))\nV(g_non)$degree <- igraph::degree(g_non)\nV(g_non)$betweenness <- round(igraph::betweenness(g_non), digits = 2)\nV(g_non)$centrality <- round(igraph::harmonic_centrality(g_non), digits = 2)\nV(g_non)$eigen <- round(igraph::eigen_centrality(g_non)$vector, digits = 2)\nV(g_non)$value <- log10(igraph::degree(g_non))\n\nV(g_non)$color <- ifelse(V(g_non)$cohort == \"Behavior Change\", \"#0964B0\" \n                         , ifelse(V(g_non)$cohort == \"Criminal Justice\", \"#E17F48\"\n                          , ifelse(V(g_non)$cohort == \"JoinBodi\", \"#5B507A\"\n                            , ifelse(V(g_non)$cohort == \"Media and Journalism\", \"#B5984F\"\n                             , \"grey\"))))\n\nV(g_non)$shape <- ifelse(V(g_non)$grantee == \"Non Grantee\", \"triangle\", \"dot\")\n\ncolor_map <- c(`Behavior Change` = \"#0964B0\"\n               , `Criminal Justice` = \"#E17F48\"\n               , `JoinBodi` = \"#5B507A\"\n               , `Media and Journalism` = \"#B5984F\"\n               , `Non Grantee` = \"grey\")\n\nwrapped_colors <- str_wrap(names(color_map), width = 14)\n\nigraph <- toVisNetworkData((g_non))\n\nigraph$nodes$color <- igraph$nodes$color.background <- igraph$nodes$color\n\nigraph$nodes$shape <- V(g_non)$shape\n\nlegend_data <- unique(igraph$nodes[, c(\"shape\", \"color\")])\n\nvisNetwork(nodes = igraph$nodes \n           , edges = igraph$edges\n           , main = \"Endline Accountability Ecosystem\") |>\n  visEdges(arrows = \"to\") |> \n  visOptions(highlightNearest = list(enabled = TRUE, degree = 2, hover = T)\n             , selectedBy = \"group\"\n             , nodesIdSelection = TRUE) |> \n  visLegend(useGroups = FALSE\n    , addNodes= data.frame(\n        label = wrapped_colors\n      , shape = rev(legend_data$shape)\n      , color = unname(color_map)\n  )) |> \n  visLayout(randomSeed = 415)\n\n```\n","srcMarkdownNoYaml":"\n\n```{r}\nsource(here::here(\"./prep/prep.R\"))\nsource(here::here(\"./scripts/00 cleaning script.R\"))\n\n```\n\nThe graphic below is interactive. Readers can select organizations by using either the \"Select by id\" dropdown menu or by hovering or clicking on an organization in the graphic. When readers select an organization - using either method - the first and second order connections are also highlighted. This helps identify which organizations are near in the network.\n\nReaders can also highlight individual cohorts by using the \"Select by group\" dropdown menu.\n\nThe graphic also allows for zooming in and out. When zooming in names will appear on individual organizations as space becomes available.\n\n```{r, fig.cap=\"An interactive mapping based on the survey data collected of the Endline Accountability Ecosystem.\"}\n\n#| out-width: 100%\n#| fig-cap: \"Click on a node to see the organization name and centrality statistics\"\n\n\nV(g_non)$group <- V(g_non)$cohort\nV(g_non)$title <- paste0(\"<b>Org:</b> \", V(g_non)$name, \"<br><b>Cohort:</b> \", V(g_non)$cohort\n                     , \"<br><b>Degree:</b> \", igraph::degree(g_non), \"<br><b>Between:</b> \", round(igraph::betweenness(g_non), digits = 2)                    , \"<br><b>Harmonic Centrality:</b> \", round(igraph::harmonic_centrality(g_non), digits = 2), \"<br><b>Eigen Centrality Score:</b> \", round(igraph::eigen_centrality(g_non)$vector, digits = 2))\nV(g_non)$degree <- igraph::degree(g_non)\nV(g_non)$betweenness <- round(igraph::betweenness(g_non), digits = 2)\nV(g_non)$centrality <- round(igraph::harmonic_centrality(g_non), digits = 2)\nV(g_non)$eigen <- round(igraph::eigen_centrality(g_non)$vector, digits = 2)\nV(g_non)$value <- log10(igraph::degree(g_non))\n\nV(g_non)$color <- ifelse(V(g_non)$cohort == \"Behavior Change\", \"#0964B0\" \n                         , ifelse(V(g_non)$cohort == \"Criminal Justice\", \"#E17F48\"\n                          , ifelse(V(g_non)$cohort == \"JoinBodi\", \"#5B507A\"\n                            , ifelse(V(g_non)$cohort == \"Media and Journalism\", \"#B5984F\"\n                             , \"grey\"))))\n\nV(g_non)$shape <- ifelse(V(g_non)$grantee == \"Non Grantee\", \"triangle\", \"dot\")\n\ncolor_map <- c(`Behavior Change` = \"#0964B0\"\n               , `Criminal Justice` = \"#E17F48\"\n               , `JoinBodi` = \"#5B507A\"\n               , `Media and Journalism` = \"#B5984F\"\n               , `Non Grantee` = \"grey\")\n\nwrapped_colors <- str_wrap(names(color_map), width = 14)\n\nigraph <- toVisNetworkData((g_non))\n\nigraph$nodes$color <- igraph$nodes$color.background <- igraph$nodes$color\n\nigraph$nodes$shape <- V(g_non)$shape\n\nlegend_data <- unique(igraph$nodes[, c(\"shape\", \"color\")])\n\nvisNetwork(nodes = igraph$nodes \n           , edges = igraph$edges\n           , main = \"Endline Accountability Ecosystem\") |>\n  visEdges(arrows = \"to\") |> \n  visOptions(highlightNearest = list(enabled = TRUE, degree = 2, hover = T)\n             , selectedBy = \"group\"\n             , nodesIdSelection = TRUE) |> \n  visLegend(useGroups = FALSE\n    , addNodes= data.frame(\n        label = wrapped_colors\n      , shape = rev(legend_data$shape)\n      , color = unname(color_map)\n  )) |> \n  visLayout(randomSeed = 415)\n\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["prep/styles.css"],"number-sections":false,"embed-resources":false,"toc":true,"output-file":"Interactive Network Map.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"visual","theme":"cosmo","title":"Annex 1: Interactive Network Map"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}